(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),c=t.n(u),l=(t(19),t(12)),o=t(2),i=function(e){var n=e.name,t=e.number,a=e.deleteEntry,u=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,n,": ",t,r.a.createElement("button",{onClick:function(){return a(u)}},"Delete")))},m=function(e){var n=e.persons,t=e.deleteEntry;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,n.map(function(e){return r.a.createElement(i,{key:e.id,name:e.name,number:e.number,deleteEntry:t,id:e.id})})))},f=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNewName})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNewNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"notification"},n)},d=function(e){var n=e.errorMessage;return null===n?null:r.a.createElement("div",{className:"errormessage"},n)},E=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:e.filter,onChange:e.handleFilter}))},v=t(3),b=t.n(v),h="/api/persons",w=function(){return b.a.get(h).then(function(e){return e.data})},g=function(e){return b.a.post(h,e).then(function(e){return e.data})},p=function(e){return b.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})},j=function(e,n){return b.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})},y=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(""),i=Object(o.a)(c,2),v=i[0],b=i[1],h=Object(a.useState)(""),y=Object(o.a)(h,2),N=y[0],O=y[1],S=Object(a.useState)(""),C=Object(o.a)(S,2),F=C[0],k=C[1],L=Object(a.useState)(null),P=Object(o.a)(L,2),D=P[0],J=P[1],M=Object(a.useState)(null),T=Object(o.a)(M,2),x=T[0],B=T[1];Object(a.useEffect)(function(){w().then(function(e){u(e)})},[]);var I=function(e){J(e),setTimeout(function(){J(null)},5e3)},R=function(e,n){j(e,n).then(function(n){u(t.map(function(t){return t.id!==e?t:n}))}).then(function(){I("Successfully updated ".concat(n.name))}).catch(function(e){B("Failed: ".concat(n.name," was not found on the server"))})},q=F?t.filter(function(e){return e.name.toLowerCase().includes(F)}):t;return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(s,{message:D}),r.a.createElement(d,{errorMessage:x}),r.a.createElement(E,{filter:F,handleFilter:function(e){console.log(e.target.value),k(e.target.value.toLowerCase())}}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi numero"),r.a.createElement(f,{addPerson:function(e){if(e.preventDefault(),t.some(function(e){return e.name===v})){if(window.confirm("".concat(v," already has entry, update number?"))){var n=t.find(function(e){return e.name===v}),a=Object(l.a)({},n,{number:N});return b(""),O(""),R(n.id,a)}return b(""),void O("")}g({name:v,number:N}).then(function(e){u(t.concat(e)),b(""),O("")}),J("Successfully added ".concat(v)),setTimeout(function(){J(null)},5e3)},newName:v,handleNewName:function(e){console.log(e.target.value),b(e.target.value)},newNumber:N,handleNewNumber:function(e){console.log(e.target.value),O(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(m,{persons:q,deleteEntry:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Really delete entry ".concat(n.name,"?"))&&p(e).then(function(){u(t.filter(function(n){return n.id!==e}))}).then(function(){I("Successfully removed ".concat(n.name))}).catch(function(e){B("Failed: ".concat(n.name," was not found on the server"))})}}))};c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.c3eabc8f.chunk.js.map